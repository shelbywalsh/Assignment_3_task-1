---
title: "Assignment 3: Part 2: Spacial Data Visualizations"
author: "Shelby Walsh"
date: "2/21/2021"
output: 
  html_document:
    code_folding: hide
    toc: true
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, error = FALSE, message = FALSE)
library(raster)
library(tidyverse)
library(janitor)
library(here)
library(sf)
library(tmap)
library(gstat)
library(stars)
library(fasterize)
library(rnaturalearth)
```


```{r}
my_files <- list.files(path = 'ca_cetaceans', full.names = TRUE)

ca_stack <- raster::stack(my_files)


ca_stack <- raster::aggregate(ca_stack, fact = 2, fun = mean)

ca_mean <- calc(ca_stack, fun = mean, na.rm = TRUE)

plot(ca_mean)
```

```{r create mask from polygons, eval = FALSE}

land_sf <- rnaturalearth::ne_coastline() %>%
  st_transform(crs(ca_stack))
land_rast <- fasterize::fasterize(land_sf, ca_mean, field = 'OBJECTI')
plot(land_rast)
```

